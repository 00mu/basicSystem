<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 入门手册 | WEB 前端基础体系梳理</title>
    <meta name="description" content="进化中...">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/basicSystem/assets/css/0.styles.978a8c4c.css" as="style"><link rel="preload" href="/basicSystem/assets/js/app.fe57eed6.js" as="script"><link rel="preload" href="/basicSystem/assets/js/3.40885dd2.js" as="script"><link rel="preload" href="/basicSystem/assets/js/55.19599d18.js" as="script"><link rel="prefetch" href="/basicSystem/assets/js/10.8f192e07.js"><link rel="prefetch" href="/basicSystem/assets/js/11.70ea7752.js"><link rel="prefetch" href="/basicSystem/assets/js/12.aff4d014.js"><link rel="prefetch" href="/basicSystem/assets/js/13.0bf7b953.js"><link rel="prefetch" href="/basicSystem/assets/js/14.965f889e.js"><link rel="prefetch" href="/basicSystem/assets/js/15.54ac762d.js"><link rel="prefetch" href="/basicSystem/assets/js/16.6b7d15a8.js"><link rel="prefetch" href="/basicSystem/assets/js/17.4f9c33ec.js"><link rel="prefetch" href="/basicSystem/assets/js/18.e7829a1b.js"><link rel="prefetch" href="/basicSystem/assets/js/19.a14098a6.js"><link rel="prefetch" href="/basicSystem/assets/js/20.9cdf8898.js"><link rel="prefetch" href="/basicSystem/assets/js/21.52406625.js"><link rel="prefetch" href="/basicSystem/assets/js/22.5a250bd9.js"><link rel="prefetch" href="/basicSystem/assets/js/23.b68348d6.js"><link rel="prefetch" href="/basicSystem/assets/js/24.06a02506.js"><link rel="prefetch" href="/basicSystem/assets/js/25.09a10bf9.js"><link rel="prefetch" href="/basicSystem/assets/js/26.298e26d0.js"><link rel="prefetch" href="/basicSystem/assets/js/27.ba9538a8.js"><link rel="prefetch" href="/basicSystem/assets/js/28.4f67f474.js"><link rel="prefetch" href="/basicSystem/assets/js/29.4bea42c4.js"><link rel="prefetch" href="/basicSystem/assets/js/30.90e696e0.js"><link rel="prefetch" href="/basicSystem/assets/js/31.69c8c548.js"><link rel="prefetch" href="/basicSystem/assets/js/32.5309047d.js"><link rel="prefetch" href="/basicSystem/assets/js/33.5b269816.js"><link rel="prefetch" href="/basicSystem/assets/js/34.90d75a26.js"><link rel="prefetch" href="/basicSystem/assets/js/35.e1f8a67a.js"><link rel="prefetch" href="/basicSystem/assets/js/36.1224f9ef.js"><link rel="prefetch" href="/basicSystem/assets/js/37.514fe7f4.js"><link rel="prefetch" href="/basicSystem/assets/js/38.8691a21e.js"><link rel="prefetch" href="/basicSystem/assets/js/39.43c15237.js"><link rel="prefetch" href="/basicSystem/assets/js/4.616c069e.js"><link rel="prefetch" href="/basicSystem/assets/js/40.341eebc6.js"><link rel="prefetch" href="/basicSystem/assets/js/41.61141311.js"><link rel="prefetch" href="/basicSystem/assets/js/42.096b0e5b.js"><link rel="prefetch" href="/basicSystem/assets/js/43.08c8940b.js"><link rel="prefetch" href="/basicSystem/assets/js/44.972fa1ee.js"><link rel="prefetch" href="/basicSystem/assets/js/45.18b164ae.js"><link rel="prefetch" href="/basicSystem/assets/js/46.c5084eb9.js"><link rel="prefetch" href="/basicSystem/assets/js/47.5a081ac6.js"><link rel="prefetch" href="/basicSystem/assets/js/48.1dfe435d.js"><link rel="prefetch" href="/basicSystem/assets/js/49.9591def2.js"><link rel="prefetch" href="/basicSystem/assets/js/5.75c0cb05.js"><link rel="prefetch" href="/basicSystem/assets/js/50.42d39276.js"><link rel="prefetch" href="/basicSystem/assets/js/51.2ce3513a.js"><link rel="prefetch" href="/basicSystem/assets/js/52.7d8bbb55.js"><link rel="prefetch" href="/basicSystem/assets/js/53.a9481449.js"><link rel="prefetch" href="/basicSystem/assets/js/54.cdf677e4.js"><link rel="prefetch" href="/basicSystem/assets/js/56.f10f47fa.js"><link rel="prefetch" href="/basicSystem/assets/js/57.e3bb2ba8.js"><link rel="prefetch" href="/basicSystem/assets/js/58.4ffe555a.js"><link rel="prefetch" href="/basicSystem/assets/js/59.a549b1ff.js"><link rel="prefetch" href="/basicSystem/assets/js/6.2dd188fc.js"><link rel="prefetch" href="/basicSystem/assets/js/7.6a47198c.js"><link rel="prefetch" href="/basicSystem/assets/js/8.da290d25.js"><link rel="prefetch" href="/basicSystem/assets/js/9.b8c11fc3.js"><link rel="prefetch" href="/basicSystem/assets/js/vendors~docsearch.a3318253.js">
    <link rel="stylesheet" href="/basicSystem/assets/css/0.styles.978a8c4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/basicSystem/" class="home-link router-link-active"><!----> <span class="site-name">WEB 前端基础体系梳理</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手稿" class="dropdown-title"><span class="title">手稿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础语法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/basicSystem/basic/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/basicSystem/basic/CSS/" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          MVVM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/mvvm/VUE/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/basicSystem/mvvm/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/basicSystem/mvvm/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          前端工程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/webpack/" class="nav-link">
  webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/basicSystem/deepLearning/" class="nav-link">
  专题
</a></div><div class="nav-item"><a href="/basicSystem/coding/" class="nav-link">
  Coding
</a></div><div class="nav-item"><a href="/basicSystem/interview/" class="nav-link">
  考点
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          编辑器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/soft/git.html" class="nav-link router-link-exact-active router-link-active">
  GIT
</a></li><li class="dropdown-subitem"><a href="/basicSystem/soft/vscode/" class="nav-link">
  VSCODE
</a></li></ul></li><li class="dropdown-item"><h4>
          效率工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/soft/figma.com.html" class="nav-link">
  figma
</a></li></ul></li></ul></div></div> <a href="https://github.com/bbzz/basicSystem" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手稿" class="dropdown-title"><span class="title">手稿</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础语法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/basicSystem/basic/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/basicSystem/basic/CSS/" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          MVVM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/mvvm/VUE/" class="nav-link">
  VUE
</a></li><li class="dropdown-subitem"><a href="/basicSystem/mvvm/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/basicSystem/mvvm/Electron/" class="nav-link">
  Electron
</a></li></ul></li><li class="dropdown-item"><h4>
          前端工程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/webpack/" class="nav-link">
  webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/basicSystem/deepLearning/" class="nav-link">
  专题
</a></div><div class="nav-item"><a href="/basicSystem/coding/" class="nav-link">
  Coding
</a></div><div class="nav-item"><a href="/basicSystem/interview/" class="nav-link">
  考点
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          编辑器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/soft/git.html" class="nav-link router-link-exact-active router-link-active">
  GIT
</a></li><li class="dropdown-subitem"><a href="/basicSystem/soft/vscode/" class="nav-link">
  VSCODE
</a></li></ul></li><li class="dropdown-item"><h4>
          效率工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicSystem/soft/figma.com.html" class="nav-link">
  figma
</a></li></ul></li></ul></div></div> <a href="https://github.com/bbzz/basicSystem" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/basicSystem/soft/git.html" class="active sidebar-link">Git 入门手册</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_1-git-起步" class="sidebar-link">1. Git 起步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_1-1-仓库的概念" class="sidebar-link">1.1. 仓库的概念</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_1-2-安装-git-bash" class="sidebar-link">1.2. 安装 Git Bash</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_1-3-运行-git-前的配置" class="sidebar-link">1.3. 运行 Git 前的配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_2-git-基础" class="sidebar-link">2. Git 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_2-2-git-基础操作" class="sidebar-link">2.2. Git 基础操作</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_2-3-撤消操作" class="sidebar-link">2.3. 撤消操作</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_2-4-回退文件" class="sidebar-link">2.4. 回退文件</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_2-5-清理untracked文件" class="sidebar-link">2.5.  清理untracked文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_3-git-分支" class="sidebar-link">3. Git 分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_3-1-分支管理" class="sidebar-link">3.1 分支管理</a></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_3-2-与远程仓库交互" class="sidebar-link">3.2. 与远程仓库交互</a></li></ul></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_4-git-workflow" class="sidebar-link">4. Git WorkFlow</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_4-1-一次完整的-bugfix-流程" class="sidebar-link">4.1. 一次完整的 bugFix 流程</a></li></ul></li><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_5-git-tips" class="sidebar-link">5. Git tips</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basicSystem/soft/git.html#_5-1-解决-pullrequest-冲突" class="sidebar-link">5.1. 解决 pullRequest 冲突</a></li></ul></li></ul></li><li><a href="/basicSystem/soft/vscode.html" class="sidebar-link">VSCode</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>混 Github 同性社区 git 是必备的。公司代码协作也从 SVN 迁移到 git ，趁机把日常用到的一些简单命令做个梳理，以备脑短路时查阅。本文会持续更正更新...</p> <h2 id="_1-git-起步"><a href="#_1-git-起步" class="header-anchor">#</a> 1. Git 起步</h2> <h3 id="_1-1-仓库的概念"><a href="#_1-1-仓库的概念" class="header-anchor">#</a> 1.1. 仓库的概念</h3> <p>Git 由 工作区（workspace）、暂存区（index）、本地仓库（local repository），远程仓库（remote repository）组成</p> <h4 id="_1-1-1-解释说明"><a href="#_1-1-1-解释说明" class="header-anchor">#</a> 1.1.1 解释说明</h4> <ul><li>远程仓库： 远程仓库是指托管在网络上的项目仓库，它们是一些无法移动的本地分支；只有在 Git 进行网络交互时才会更新。同他人协作开发某个项目时，需要管理这些远程仓库，以便推送或拉取数据，分享各自的工作进展。</li> <li>远程分支： 远程引用是对远程仓库的引用（指针），包括分支、标签等等，只有在 Git 进行网络交互时才会更新。我理解的是 <em>远程分支</em> 存放在 <em>本地仓库</em></li></ul> <h4 id="_1-1-2-文件的三种状态"><a href="#_1-1-2-文件的三种状态" class="header-anchor">#</a> 1.1.2 文件的三种状态</h4> <p>对于任何一个文件，在 Git 内都只有三种状态：已提交（committed），已修改（modified）和已暂存（staged）。</p> <ul><li>已提交表示该文件已经被安全地保存在本地数据库中了；</li> <li>已修改表示修改了某个文件，但还没有提交保存；</li> <li>已暂存表示把已修改的文件放在下次提交时要保存的清单中。</li></ul> <h4 id="_1-1-3-基本的-git-工作流程"><a href="#_1-1-3-基本的-git-工作流程" class="header-anchor">#</a> 1.1.3 基本的 Git 工作流程</h4> <ol><li>在工作目录中修改某些文件。</li> <li>对修改后的文件进行快照，然后保存到暂存区域。</li> <li>提交更新，将保存在暂存区域的文件快照永久转储到 Git 目录中。近乎所有操作都是本地执行，也是 <em>分布式工作流程</em> 的魅力所在</li> <li>功能开发完毕推送到远程仓库，便可协同开发了</li></ol> <h3 id="_1-2-安装-git-bash"><a href="#_1-2-安装-git-bash" class="header-anchor">#</a> 1.2. 安装 Git Bash</h3> <ul><li>windows平台下载安装 [<a href="https://git-for-windows.github.io/" target="_blank" rel="noopener noreferrer">https://git-for-windows.github.io/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>]</li> <li><code>git --help git</code> git帮助文档</li></ul> <h3 id="_1-3-运行-git-前的配置"><a href="#_1-3-运行-git-前的配置" class="header-anchor">#</a> 1.3. 运行 Git 前的配置</h3> <ul><li><p>设置全局Name和Email地址</p> <blockquote><p>git config --global user.name &quot;Your Name&quot; git config --global user.email &quot;email@example.com&quot;</p></blockquote></li> <li><p>也可以给指定项目单独设置信息</p> <blockquote><p>git config user.name &quot;Your Name&quot; git config user.email &quot;email@example.com&quot; git config --list 查看配置信息</p></blockquote></li> <li><p>文本编辑器，Git 需要你输入一些额外消息的时候，默认 Vi 或者 Vim</p> <blockquote><p>git config --global core.editor atom</p></blockquote></li> <li><p>查看配置信息</p> <blockquote><p>git config --list</p></blockquote></li></ul> <h2 id="_2-git-基础"><a href="#_2-git-基础" class="header-anchor">#</a> 2. Git 基础</h2> <h3 id="_2-2-git-基础操作"><a href="#_2-2-git-基础操作" class="header-anchor">#</a> 2.2. Git 基础操作</h3> <h4 id="_2-2-1-取得项目的-git-仓库"><a href="#_2-2-1-取得项目的-git-仓库" class="header-anchor">#</a> 2.2.1. 取得项目的 Git 仓库</h4> <h5 id="进入工作目录"><a href="#进入工作目录" class="header-anchor">#</a> 进入工作目录</h5> <ul><li><code>mkdir HtmlCode</code> 创建工作区</li> <li><code>cd HtmlCode</code> 进入文件夹</li> <li><code>pwd</code> 显示当前目录</li></ul> <h5 id="在此目录初始化仓库-或-从现有仓库克隆一份"><a href="#在此目录初始化仓库-或-从现有仓库克隆一份" class="header-anchor">#</a> 在此目录初始化仓库 或 从现有仓库克隆一份</h5> <ul><li><code>git init</code> 在工作区创建git管理仓库 or <em>clone一个远程库</em></li> <li><code>git clone [url] D://HtmlCode</code> 克隆远程版本库并更名</li></ul> <h4 id="_2-2-2-记录每次更新到仓库"><a href="#_2-2-2-记录每次更新到仓库" class="header-anchor">#</a> 2.2.2.  记录每次更新到仓库</h4> <ul><li><code>git status</code> 检查当前仓库文件状态</li> <li><code>git add .</code> 指明要追踪文件，把目标文件放入暂存区域</li> <li><code>git commit -m &quot;说明话术&quot;</code> 现在，你的改动已经提交到了 HEAD，但是还没到你的远端仓库</li> <li><code>git push</code> 推送到远程仓库</li></ul> <h4 id="_2-2-3-查看提交历史"><a href="#_2-2-3-查看提交历史" class="header-anchor">#</a> 2.2.3. 查看提交历史</h4> <ul><li><code>git log</code> 默认不用任何参数的话，git log 会按提交时间列出所有的更新，最近的更新排在最上面。看到了吗，每次更新都有一个 SHA-1 校验和、作者的名字和电子邮件地址、提交时间，最后缩进一个段落显示提交说明。</li> <li><code>git log -p -2</code> 我们常用 -p 选项展开显示每次提交的内容差异，用 -2 则仅显示最近的两次更新</li> <li><code>git log --oneline</code> 精简模式</li> <li><code>git reflog</code> 查看命令历史，以便回到未来的版本</li></ul> <h3 id="_2-3-撤消操作"><a href="#_2-3-撤消操作" class="header-anchor">#</a> 2.3. 撤消操作</h3> <h4 id="_2-3-1-修改最后一次提交"><a href="#_2-3-1-修改最后一次提交" class="header-anchor">#</a> 2.3.1. 修改最后一次提交</h4> <p>有时候我们提交完了才发现漏掉了几个文件没有加，或者提交信息写错了。想要撤消刚才的提交操作，可以使用--amend 选项重新提交：</p> <div class="language- extra-class"><pre class="language-text"><code>git commit -m 'initial commit'
git add forgotten_file
git commit --amend
</code></pre></div><p>上面的三条命令最终只是产生一个提交，第二个提交命令修正了第一个的提交内容。</p> <h4 id="_2-3-2-取消已经暂存的文件"><a href="#_2-3-2-取消已经暂存的文件" class="header-anchor">#</a> 2.3.2. 取消已经暂存的文件</h4> <div class="language- extra-class"><pre class="language-text"><code>git reset HEAD &lt;files&gt;
</code></pre></div><h3 id="_2-4-回退文件"><a href="#_2-4-回退文件" class="header-anchor">#</a> 2.4. 回退文件</h3> <p><img src="/article_images/D1_git-stage.png" alt="工作区、版本库、暂存区原理图"></p> <ul><li><p><code>git checkout -- &lt;file1&gt; &lt;file2&gt;</code> 此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。这个操作很危险，会清除工作区中未添加到暂存区的改动,已添加到缓存区的改动，以及新文件，都不受影响</p></li> <li><p><code>git checkout -f</code> 丢弃工作区、缓存区所有修改。清除commit之前的所有修改</p></li> <li><p><code>git checkout &lt;commitID&gt;</code> 干净的版本回退，将丢弃工作区、缓存区所有修改</p></li> <li><p><code>git checkout HEAD &lt;file&gt;</code> 从最新的版本替换工作区文件</p></li> <li><p><code>git reset --soft HEAD^</code> 从最新版本库回退到工作区</p></li> <li><p><code>git reset --soft &lt;commitID&gt;</code> 从最新版本库回退到工作区</p> <div class="language- extra-class"><pre class="language-text"><code>--soft – 缓存区和工作目录都不会被改变
--mixed – 默认选项。缓存区和你指定的提交同步，但工作目录不受影响
--hard – 缓存区和工作目录都同步到你指定的提交
</code></pre></div></li> <li><p><code>git reset &lt;commit_id&gt;</code> 在历史版本间回滚，消除commit信息，文件放回工作区</p></li> <li><p><code>git rm --cached &lt;file1&gt; &lt;file2&gt;</code> 直接从暂存区删除文件，工作区则不做出改变</p></li></ul> <h3 id="_2-5-清理untracked文件"><a href="#_2-5-清理untracked文件" class="header-anchor">#</a> 2.5.  清理untracked文件</h3> <ul><li><code>git clean -f</code> 删除所有 untracked 文件</li> <li><code>git clean -fd</code> 连同 untracked 目录一并删除 <em>建议删除前加上 -n 预览会删除哪些文件，以免误删</em> <code>git clear -nfd</code></li></ul> <h2 id="_3-git-分支"><a href="#_3-git-分支" class="header-anchor">#</a> 3. Git 分支</h2> <h3 id="_3-1-分支管理"><a href="#_3-1-分支管理" class="header-anchor">#</a> 3.1 分支管理</h3> <ul><li><code>git fetch –p</code> 更新分支列表</li> <li><code>git branch</code> 查看当前分支，当前分支前面会标一个「*」</li> <li><code>git branch -r</code> 查看远程分支</li> <li><code>git branch -a</code> 查看所有分支</li> <li><code>git branch -va</code> 查看所有分支+log</li> <li><code>git branch -ar</code> 查看本地+远程分支及最后一次log</li> <li><code>git branch &lt;branch&gt;</code> 创建分支</li> <li><code>git checkout &lt;branch&gt;</code> 切换分支</li> <li><code>git checkout -b &lt;branch&gt;</code> 创建+切换分支</li> <li><code>git merge &lt;branch&gt;</code> 合并某分支到当前分支</li> <li><code>git branch -D &lt;branch&gt;</code> 删除某分支</li></ul> <h3 id="_3-2-与远程仓库交互"><a href="#_3-2-与远程仓库交互" class="header-anchor">#</a> 3.2. 与远程仓库交互</h3> <h4 id="_3-2-1-更新远程分支信息"><a href="#_3-2-1-更新远程分支信息" class="header-anchor">#</a> 3.2.1. 更新远程分支信息</h4> <ul><li><code>git fetch</code> 将远程主机的更新全部取回本地，fetch 回来的分支，用 origin/branch_xx 格式访问</li> <li><code>git fetch origin master</code> 取回 origin 主机的 master 分支</li></ul> <h4 id="_3-2-1-从远程分支开新分支"><a href="#_3-2-1-从远程分支开新分支" class="header-anchor">#</a> 3.2.1. 从远程分支开新分支</h4> <ol><li><code>git fetch origin &lt;remoteBranch&gt;</code> 从远程仓库取回指定分支作为远程分支</li> <li><code>git checkout -b &lt;localBranch&gt; &lt;origin/remoteBranch&gt;</code> 在此远程分支上创建一个新分支</li></ol> <h4 id="_3-2-2-远程主机上的分支-合并到-本地分支"><a href="#_3-2-2-远程主机上的分支-合并到-本地分支" class="header-anchor">#</a> 3.2.2. 远程主机上的分支 合并到 本地分支</h4> <ul><li><code>git pull origin &lt;remoteBranch&gt;</code> 将远程仓库指定分支与当前分支合并</li> <li><code>git pull origin &lt;remoteBranch&gt;:&lt;localBranch&gt;</code> 将远程某分支与指定的本地分支合并</li> <li><code>git merge origin/&lt;remoteBranch&gt;</code> 将远程分支merge到本分支</li></ul> <h5 id="pull-和-merge-的区别"><a href="#pull-和-merge-的区别" class="header-anchor">#</a> pull 和 merge 的区别</h5> <ul><li>git pull 等同于先做 <code>git fetch</code>,再做 <code>git merge</code></li> <li>git fetch是将远程仓库的更新获取到本地仓库，不影响其他区域</li> <li>git pull则是一次性将远程仓库的代码更新到工作区（同时也会更新本地仓库）。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git fetch origin &lt;remoteBranch&gt;
git merge &lt;origin/remoteBranch&gt;
</code></pre></div><h4 id="_3-2-3-推送本地分支推送到远程仓库"><a href="#_3-2-3-推送本地分支推送到远程仓库" class="header-anchor">#</a> 3.2.3. 推送本地分支推送到远程仓库</h4> <ul><li><code>git push -u origin &lt;branch&gt;</code> 将本地分支推送到远程仓库同时指定默认主机，之后不用加任何参数直接使用 <code>git push</code></li> <li><code>git push &lt;origin&gt; &lt;localBranch&gt;:&lt;remoteBranch&gt;</code> 本地分支推送到远程仓库，如果远程不存在此分支则会被新建</li> <li><code>git branch --set-upstream-to=origin/&lt;branch&gt;</code> 本地当前分支与远程分支建立追踪关系</li> <li><code>git branch -vv</code> 查看追踪关系</li> <li><code>git push &lt;origin&gt;</code> 如果当前分支与远程分支存在追踪关系，则可直接push到主机</li> <li><code>git push</code> 如果当前分支有且只有一个追踪分支，那么主机名亦可省略</li></ul> <h5 id="删除本地及远程分支"><a href="#删除本地及远程分支" class="header-anchor">#</a> 删除本地及远程分支</h5> <ul><li><code>git branch -D &lt;branch1&gt; &lt;branch2&gt;</code> 同时删除本地若干分支</li> <li><code>git push origin :&lt;remoteBranch&gt;</code> 推送时省略本地分支则会删除指定的远程的分支，同事从远程仓库指针。 *注意不要省略<code>:</code>前的空格</li></ul> <h2 id="_4-git-workflow"><a href="#_4-git-workflow" class="header-anchor">#</a> 4. Git WorkFlow</h2> <h3 id="_4-1-一次完整的-bugfix-流程"><a href="#_4-1-一次完整的-bugfix-流程" class="header-anchor">#</a> 4.1. 一次完整的 bugFix 流程</h3> <ol><li><code>git fetch orign master</code> 从远程仓库指定一个分支拉取到本地远程分支</li> <li><code>git checkout -b &lt;bug_xxx&gt; origin/master</code> 从远程master分支创建 bug_xxx 分支</li> <li>本地分支开发代码</li> <li><code>git add .</code> <code>git commit -m &quot;话术&quot;</code> commit 本次更改</li> <li><code>git push -u origin &lt;branch_feature&gt;</code> 推送本分支到远程作为一个远程新分支</li> <li>发起「pull request」,将 &lt;bug_xxx&gt; 合并到 master</li> <li>PR 被管理员接受即完成本次流程，已废弃分支建议及时删除</li></ol> <h2 id="_5-git-tips"><a href="#_5-git-tips" class="header-anchor">#</a> 5. Git tips</h2> <h3 id="_5-1-解决-pullrequest-冲突"><a href="#_5-1-解决-pullrequest-冲突" class="header-anchor">#</a> 5.1. 解决 pullRequest 冲突</h3> <p>eg. vNext_promotion 合并到 vNext 时冲突</p> <ul><li><code>git pull</code>拉取最新代码到本地，工作区不能有 modified 文件；若有，先 <code>git stash</code> 代码，再 <code>git pull</code>,再将 <code>stash</code> 的代码 <code>git stash pop</code> 恢复到工作区</li> <li><code>git fetch origin vNext</code> &amp; <code>git merge origin/vNext</code> 手动合并代码，发现并解决冲突后再推送代码</li> <li><code>git push</code> 发起PR</li></ul> <p>建议优先参考 <a href="https://git-scm.com/book/zh/v2" target="_blank" rel="noopener noreferrer">GitBook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/bbzz/basicSystem/edit/master/docs/soft/git.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/5/2020, 9:43:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/basicSystem/soft/vscode.html">
        VSCode
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/basicSystem/assets/js/app.fe57eed6.js" defer></script><script src="/basicSystem/assets/js/3.40885dd2.js" defer></script><script src="/basicSystem/assets/js/55.19599d18.js" defer></script>
  </body>
</html>
